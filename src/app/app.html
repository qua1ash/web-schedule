<div class="top-block">
  <div class="header-row">
    <div class="date-text">{{ currentDate() }}</div>
  </div>

  <div class="week-buttons" #weekButtons>
    <button class="day-btn" *ngFor="let day of days()" [class.selected]="isDaySelected(day.fullDate)" (click)="selectDayFromWeek(day.fullDate)">
      {{ day.date }}<br><span>{{ day.dayName }}</span>
    </button>
  </div>
</div>


<!-- Calendar overlay -->
<div class="calendar-overlay" *ngIf="showCalendar()" (click)="openCalendar()">
  <div class="calendar-container" (click)="$event.stopPropagation()">
    <app-calendar (daySelected)="onDaySelected($event)"></app-calendar>
  </div>
</div>

<div class="lessons-list" #lessonsContainer>
  <!-- Loading indicator -->
  <div class="loading-card" *ngIf="isLoading()">
    <div class="loading-content">
      <div class="loading-spinner"></div>
      <div class="loading-text">–ó–∞–≥—Ä—É–∑–∫–∞ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—è...</div>
    </div>
  </div>

  <!-- Error message -->
  <div class="error-card" *ngIf="error()">
    <div class="error-content">
      <div class="error-icon">‚ö†Ô∏è</div>
      <div class="error-title">–û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏</div>
      <div class="error-subtitle">{{ error() }}</div>
    </div>
  </div>

  <!-- Lessons list -->
  <div
    class="lesson-card"
    *ngFor="let lesson of lessons()"
    (click)="openLessonDetail(lesson)">
    <div class="lesson-header">
      <div class="lesson-order">{{ lesson.order }}</div>
      <div class="lesson-time">{{ lesson.start }} ‚Äì {{ lesson.end }}</div>
    </div>
    <div class="lesson-body">
      <div class="lesson-title">{{ lesson.title }}</div>
      <div class="lesson-footer">
        <div class="lesson-teacher">{{ lesson.teacher }}</div>
        <div class="lesson-room">–∞—É–¥. {{ lesson.room }}</div>
      </div>
    </div>
  </div>

  <!-- No schedule card when lessons array is empty and not loading -->
  <div class="no-schedule-card" *ngIf="!isLoading() && !error() && lessons().length === 0">
    <div class="no-schedule-content">
      <div class="no-schedule-icon">ü•≥</div>
      <div class="no-schedule-title">–ù–µ—Ç —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—è</div>
      <div class="no-schedule-subtitle">–ù–∞ —ç—Ç–æ—Ç –¥–µ–Ω—å –∑–∞–Ω—è—Ç–∏–π –Ω–µ—Ç</div>
    </div>
  </div>
</div>




<!-- –ù–∏–∂–Ω—è—è –ø–∞–Ω–µ–ª—å –Ω–∞–≤–∏–≥–∞—Ü–∏–∏ -->
<div class="bottom-nav">
  <button class="nav-btn" (click)="openCalendar()">
    <img src="icons/calendar.png" alt="–ö–∞–ª–µ–Ω–¥–∞—Ä—å" class="nav-icon">
    <span>–†–∞—Å–ø–∏—Å–∞–Ω–∏–µ</span>
  </button>

  <button class="nav-btn" (click)="openProfile()">
    <img src="icons/user.png" alt="–ü—Ä–æ—Ñ–∏–ª—å" class="nav-icon">
    <span>–ü—Ä–æ—Ñ–∏–ª—å</span>
  </button>
</div>

